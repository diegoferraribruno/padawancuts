<html>
<head><title> Os 3 porquinhos e o Lobo do tipo Mau</title></head>
<body top="80px">
  <center><h1 id="Era uma vez..."></h1></center>
<script>

class Personagem {
  constructor(nome, arma){
    this.nome = nome;
    this.arma = arma;
  }
  ataque(){
    return this.nome + " ataca com " + this.arma;
  }
}
class Lobo extends Personagem {
  constructor(nome, arma, tipo){
    super(nome, arma) // <- busca na função extendida as propriedades cria um link a plavra "this".
    this.tipo = tipo
    console.log(this)
  }
  chegou(){
    return "Chegou " + this.nome + " " + this.tipo + "..."
  }
}
class Porquinho extends Personagem{
  constructor(nome, arma, material){
    super(nome, arma) // <- busca na função extendida as propriedades cria um link a plavra "this".
    this.material = material;
  }
  fazerCasa(){
    return this.nome + " construiu uma casa de " + this.material + " com " + this.arma + "."
  }
  fuga(pronde="caldeirão!"){
    if(this.nome != "Prático"){
      return this.nome + " fugiu para casa de " + pronde.nome
    }
    else{
      return this.nome + " cozinha " + lobo.nome +" no " + pronde + ". <br/> fim..."
    }
  }
}
const cicero = new Porquinho('Cícero', 'bambu', 'lama')
const heitor = new Porquinho('Heitor', 'madeira', 'pau')
const pratico = new Porquinho('Prático', 'tijolos','cimento')
const lobo = new Lobo('o Lobo', 'assoprão','Mau')
function conta(){
  let roteiro = [
    "Era uma vez 3 porquinhos...",
    cicero.fazerCasa(),
    heitor.fazerCasa(),
    pratico.fazerCasa(),
    lobo.chegou(cicero),
    cicero.ataque(),
    lobo.ataque(cicero),
    cicero.fuga(heitor),
    lobo.chegou(),
    heitor.ataque(),
    lobo.ataque(),
    cicero.fuga(pratico),
    heitor.fuga(pratico),
    lobo.chegou(),
    lobo.ataque(),
    pratico.ataque(),
    lobo.ataque(),
    pratico.fuga()
  ]
  for(var i=0; i< roteiro.length; i++){
    (function(i){
      setTimeout(function(){
        document.getElementById("Era uma vez...").innerHTML = "<h1>"+roteiro[i]+"</h1>"
        //console.log(roteiro[i])
      }, 3000*i)
    })(i)
  }
}
conta()
</script>
<body>
</html>
